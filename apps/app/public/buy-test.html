<!doctype html>
<html>
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Buy Pro (Stripe Test)</title>
</head>
<body>
  <h1>OptiSentry – Test Checkout</h1>
  <p>Dieser Button ruft die API unter <code>https://api.optisentry.com</code> auf und öffnet Stripe Checkout (Testmodus).</p>
  <button id="buy-pro">Buy Pro (Test)</button>
  <script>
    const API = 'https://api.optisentry.com';
    document.getElementById('buy-pro').onclick = async () => {
      const r = await fetch(API + '/billing/checkout?tier=pro', { method: 'POST' });
      const j = await r.json();
      if (j && j.url) window.location = j.url;
      else alert('API antwortet ohne URL – prüfe STRIPE_* ENV auf Render.');
    };
  </script>
</body>
</html>
